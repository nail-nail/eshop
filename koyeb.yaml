name: eshop
services:
  - name: eshop-web
    type: web
    region: singapore
    routes:
      - src_path: /
        dest_port: 8080
    ports:
      - http: 8080
    env:
      - key: JAVA_TOOL_OPTIONS
        value: "-XX:MaxRAMPercentage=75.0"
    git:
      repo: https://github.com/nail-nail/eshop
      branch: main
      workdir: .
      build_command: ./gradlew clean bootJar
      run_command: java -jar build/libs/*.jar
